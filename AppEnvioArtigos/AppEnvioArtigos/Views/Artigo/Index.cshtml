@model IEnumerable<AppEnvioArtigos.Models.Artigos>

@{

    ViewBag.Title = "Artigos";
}
<h2>Index</h2>



<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Nome)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ResumoArtigo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Genero)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Artigopdf)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Nome)
        </td>
        <th>
            @Html.DisplayNameFor(model => model.Genero)
        </th>
        <td>
            @Html.DisplayFor(modelItem => item.ResumoArtigo)
        </td>
        <td>
            <button id="@item.ArtigoID" onclick="downloadArquivo(this.id)"> Download </button>

        </td>

        <td>

            @Html.ActionLink("Avaliar", "Create", "AvaliarArtigo", Session["ArtigoId"] = item.ArtigoID)|
            @Html.ActionLink("Details", "Details", new { id = item.ArtigoID }) |
            @Html.ActionLink("Delete", "Delete", new { id = item.ArtigoID })

        </td>
    </tr>
    }

</table>
<script>
    function downloadArquivo(id) {
        window.open('@Url.Action("DownloadDocumento", "Artigo", new { id = "_Id" })'.replace("_Id", id));
    }
</script>  

